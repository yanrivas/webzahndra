!function(e){"use strict";var n=Modernizr.cssanimations,t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],a=function(e,a){var i=function(e){if(n){if(e.target!=this)return;this.removeEventListener(t,i)}a&&"function"==typeof a&&a.call()};n?e.addEventListener(t,i):i()};function i(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function s(e,n){this.el=e,this.options=i({},this.options),i(this.options,n),this.menus=jQuery(this.el).find(".menu-container").toArray(),this.current=0,this._init()}s.prototype.options={initialDelay:200,itemsDelayInterval:60,direction:"r2l"},s.prototype._init=function(){this.menusArr=[];var e=this,n=jQuery(".be-sidemenu").attr("data-menu-alignment");if(jQuery("body").hasClass("overlay-left-align-menu")&&jQuery(".special-header-bottom-text").length>0){var t=jQuery(".special-header-bottom-text");t[0].clientHeight==t[0].scrollHeight&&jQuery(t).css("align-self",n)}this.menus.forEach(function(t,a){var i={menuEl:t,menuItems:[].slice.call(t.querySelectorAll(".menu-item"))},s=t.clientHeight,o=t.scrollHeight;e.menusArr.push(i),a===e.current&&classie.add(t,"menu__level--current"),s==o&&jQuery(t).css("justify-content",n)}),jQuery("body").hasClass("left-static-menu")&&(jQuery(".special-header-menu").css("display","block"),e.animateMenu("openMenu")),this._initEvents()},s.prototype._initEvents=function(){for(var n=this,t=0,a=this.menusArr.length;t<a;++t)this.menusArr[t].menuItems.forEach(function(e,t){0!=jQuery(e).find("span.mobile-sub-menu-controller").length&&e.querySelector(".mobile-sub-menu-controller").addEventListener("click",function(e){var t=jQuery(e.target).closest(".menu-item").children("ul"),a=t.find("li").toArray().filter(function(e){return e.parentElement==t[0]||("none"!=jQuery(e).parent().css("display")||void 0)});"none"==t.css("display")?n.animateSubMenu(a,"openMenu"):n.animateSubMenu(a,"closeMenu")})});jQuery(document).on("click",".hamburger-nav-controller-wrap",function(e){jQuery("body").hasClass("perspective-left")||jQuery("body").hasClass("perspective-right")?jQuery("body").hasClass("perspectiveview-open")?jQuery("body").hasClass("perspectiveview-open")&&n.animateMenu("closeMenu"):n.animateMenu("openMenu"):jQuery("body").hasClass("side-menu-opened")?n.animateMenu("openMenu"):n.animateMenu("closeMenu")}),jQuery(document).on("click","#be-left-strip",function(e){jQuery("body").hasClass("perspective-right")?jQuery("body").hasClass("perspectiveview-open")?jQuery("body").hasClass("perspectiveview-open")&&n.animateMenu("closeMenu"):n.animateMenu("openMenu"):jQuery("body").hasClass("side-menu-opened")?n.animateMenu("openMenu"):n.animateMenu("closeMenu")}),jQuery(document).on("click","#main",function(){(jQuery("body").hasClass("side-menu-opened")||jQuery("body").hasClass("perspectiveview"))&&n.animateMenu("closeMenu")}),jQuery(document).on("click",".be-overlay-menu-close",function(){jQuery("body").hasClass("side-menu-opened")?n.animateMenu("openMenu"):n.animateMenu("closeMenu")}),jQuery(e).on("resize",function(){var e=jQuery(".be-sidemenu").attr("data-menu-alignment"),t=jQuery(".special-header-bottom-text");setTimeout(function(){jQuery("body").hasClass("overlay-left-align-menu")&&t.length>0&&(jQuery(t).css("align-self","auto"),t[0].clientHeight==t[0].scrollHeight?jQuery(t).css("align-self",e):jQuery(t).css("align-self","auto"));n.menus.forEach(function(n,t){n.clientHeight==n.scrollHeight?jQuery(n).css("justify-content",e):jQuery(n).css("justify-content","flex-start")})},500)}),document.addEventListener("keyup",function(e){(jQuery("body").hasClass("side-menu-opened")||jQuery("body").hasClass("perspectiveview"))&&(27===(e.keyCode||e.which)&&n.animateMenu("closeMenu"))})},s.prototype.animateSubMenu=function(e,n){var t=this,i=e[0].parentElement,s=e.length-1;e.forEach(function(e,o){if(e.style.WebkitAnimationDelay=e.style.animationDelay=parseInt(o*t.options.itemsDelayInterval)+"ms",o==s&&(a(e,function(){if("closeMenu"==n)switch(t.options.direction){case"r2l":classie.remove(i,"animate-outToRight");break;case"l2r":classie.remove(i,"animate-outToLeft");break;case"t2b":classie.remove(i,"animate-outToTop");break;case"b2t":classie.remove(i,"animate-outToBottom")}else if("openMenu"==n)switch(t.options.direction){case"r2l":classie.remove(i,"animate-inFromRight");break;case"l2r":classie.remove(i,"animate-inFromLeft");break;case"t2b":classie.remove(i,"animate-inFromTop");break;case"b2t":classie.remove(i,"animate-inFromBottom")}}),setTimeout(function(){t.menus.forEach(function(e,n){e.clientHeight==e.scrollHeight?jQuery(e).css("justify-content",jQuery(".be-sidemenu").attr("data-menu-alignment")):jQuery(e).css("justify-content","flex-start")})},450)),"closeMenu"==n)switch(t.options.direction){case"r2l":classie.add(i,"animate-outToRight");break;case"l2r":classie.add(i,"animate-outToLeft");break;case"t2b":classie.add(i,"animate-outToTop");break;case"b2t":classie.add(i,"animate-outToBottom")}else if("openMenu"==n)switch(t.options.direction){case"r2l":classie.add(i,"animate-inFromRight");break;case"l2r":classie.add(i,"animate-inFromLeft");break;case"t2b":classie.add(i,"animate-inFromTop");break;case"b2t":classie.add(i,"animate-inFromBottom")}})},s.prototype.animateMenu=function(e){var n=this,t=void 0!==n.menusArr[n.current]?jQuery(n.menusArr[n.current].menuItems).filter(":visible").toArray():[],i=t.length-1,s=jQuery(".special-header-bottom-text"),o=jQuery(".special-header-logo");t.forEach(function(t,s){if(t.style.WebkitAnimationDelay=t.style.animationDelay=parseInt(s*n.options.itemsDelayInterval+n.options.initialDelay)+"ms",s==i&&a(t,function(){if("closeMenu"==e)classie.remove(n.menusArr[n.current].menuEl,"animate-closemenu");else if("openMenu"==e)switch(n.options.direction){case"r2l":classie.remove(n.menusArr[n.current].menuEl,"animate-inFromRight");break;case"l2r":classie.remove(n.menusArr[n.current].menuEl,"animate-inFromLeft");break;case"t2b":classie.remove(n.menusArr[n.current].menuEl,"animate-inFromTop");break;case"b2t":classie.remove(n.menusArr[n.current].menuEl,"animate-inFromBottom")}}),"closeMenu"==e)t.style.WebkitAnimationDelay=t.style.animationDelay=parseInt(0)+"ms",classie.add(n.menusArr[n.current].menuEl,"animate-closemenu");else if("openMenu"==e)switch(n.options.direction){case"r2l":classie.add(n.menusArr[n.current].menuEl,"animate-inFromRight");break;case"l2r":classie.add(n.menusArr[n.current].menuEl,"animate-inFromLeft");break;case"t2b":classie.add(n.menusArr[n.current].menuEl,"animate-inFromTop");break;case"b2t":classie.add(n.menusArr[n.current].menuEl,"animate-inFromBottom")}});var r=function(t){if("closeMenu"==e)t.removeClass("animate-closemenu");else if("openMenu"==e)switch(n.options.direction){case"r2l":t.removeClass("animate-inFromRight");break;case"l2r":t.removeClass("animate-inFromLeft");break;case"t2b":t.removeClass("animate-inFromTop");break;case"b2t":t.removeClass("animate-inFromBottom")}};if(0!=s.length&&a(s[0],r.bind(null,s)),0!=o.length&&a(o[0],r.bind(null,o)),"closeMenu"==e)s.css("animation-delay",parseInt(0)+"ms"),o.css("animation-delay",parseInt(0)+"ms"),s.addClass("animate-closemenu"),o.addClass("animate-closemenu");else if("openMenu"==e){switch(s.css("animation-delay",parseInt(n.options.initialDelay)+"ms"),o.css("animation-delay",parseInt(n.options.initialDelay)+"ms"),n.options.direction){case"r2l":s.addClass("animate-inFromRight"),o.addClass("animate-inFromRight");break;case"l2r":s.addClass("animate-inFromLeft"),o.addClass("animate-inFromLeft");break;case"t2b":s.addClass("animate-inFromTop"),o.addClass("animate-inFromTop");break;case"b2t":s.addClass("animate-inFromBottom"),o.addClass("animate-inFromBottom")}jQuery("body").hasClass("left-static-menu")&&(s.css("visibility","visible"),o.css("visibility","visible"))}},e.OldMenu=s}(window);