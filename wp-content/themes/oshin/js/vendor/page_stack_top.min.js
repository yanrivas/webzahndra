!function(e){"use strict";var t=Modernizr.csstransitions,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],r=function(e,r){var a=function(e){if(t){if(e.target!=this)return;this.removeEventListener(n,a)}r&&"function"==typeof r&&r.call(this)};t?e.addEventListener(n,a):a()},a=document.getElementsByClassName("be-page-stack-wrapper")[0],s=(document.getElementById("header-inner-wrap"),3),i=0,o=e.innerHeight,d=document.querySelector(".hamburger-nav-controller-wrap"),u=document.querySelector(".special-header-menu"),l=jQuery(u).find(".menu-item a").toArray(),c=!1,y=0,p=(jQuery("body").hasClass("header-solid")&&(jQuery("#header-wrap").attr("data-default-height"),jQuery("#header-wrap").attr("data-sticky-height")),jQuery(".be-page-stack")),m=jQuery(".be-page-stack-container"),h=jQuery(".be-page-stack-wrapper");function f(){for(var e=Q(),t=0;t<s;++t){var n=p[t],r=e.indexOf(t),a=m[t];i!==t?(classie.add(n,"page--inactive"),-1!==r?(a.style.WebkitTransform="translate3d(0,100%,0)",a.style.transform="translate3d(0,100%,0)"):(a.style.WebkitTransform="translate3d(0,75%,-300px)",a.style.transform="translate3d(0,75%,-300px)")):classie.remove(n,"page--inactive"),a.style.zIndex=t<i?parseInt(15):parseInt(15-t),n.style.opacity=-1!==r?parseFloat(1-.1*r):0}}function b(e){c?v():(y=jQuery(document).scrollTop(),p[0].style.top=-1*y+"px",function(){jQuery(".hamburger-nav-controller .be-mobile-menu-icon").addClass("is-clicked"),jQuery(".be-sidemenu").addClass("opened"),jQuery("body").addClass("side-menu-opened page-stack-top-opened"),jQuery("body").hasClass("admin-bar")&&jQuery("html").css("height","calc(100% - 32px)"),jQuery(".be-sidemenu").css({width:"100vw",height:"50%",visibility:"visible"});var e=function(t){t.stopPropagation(),!jQuery("body").hasClass("side-menu-opened")&&jQuery(t.target).hasClass("be-sidemenu")&&(jQuery(this).unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",e),jQuery(".be-sidemenu").css({width:"1px",height:"1px",visibility:"hidden"}))};jQuery(".be-sidemenu").bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",e),jQuery(a).addClass("pages-stack--open");var t=Q(),n=jQuery("body").hasClass("header-solid")?Number(jQuery("#header-wrap").attr("data-default-height")):0;setTimeout(function(){var e=.75*o-n+"px";h.css("perspective","1200px");for(var r=0,a=t.length;r<a;++r){var s=m[t[r]];s.style.transform="translate3d(0,0,0)",s.style.WebkitTransform="translate3d(0,"+e+", "+parseInt(-200-50*r)+"px)",s.style.transform="translate3d(0,"+e+", "+parseInt(-200-50*r)+"px)"}},0)}(),c=!0)}function v(){j()}function j(t){var n=m[i],o=Q(i);n.style.WebkitTransform="translate3d(0, 0, 0)",n.style.transform="",n.style.opacity=1;for(var d=0,u=o.length;d<u;++d){var l=m[o[d]];l.style.WebkitTransform="translate3d(0,100%,0)",l.style.transform="translate3d(0,100%,0)"}jQuery(".hamburger-nav-controller .be-mobile-menu-icon").removeClass("is-clicked"),jQuery(".be-sidemenu").removeClass("opened"),jQuery("body").removeClass("side-menu-opened"),jQuery("body").hasClass("admin-bar")&&jQuery("html").css("height",""),r(n,function(){jQuery(a).removeClass("pages-stack--open"),jQuery("body").removeClass("page-stack-top-opened"),h.css("perspective","");for(var n=0;n<s;n++)p[n].style.top="0px";jQuery("body,html").scrollTop(y),t&&e.oshine_scripts.animate_scroll(jQuery("#"+t)),f(),c=!1})}function Q(e){var t=i+1,n=i+2,r=[];return e!=i&&r.push(i),e!=t&&r.push(t),e!=n&&r.push(n),r}f(),function(){d.addEventListener("click",b);var t=e.location.href;l.forEach(function(e){var n,r=e.getAttribute("href"),a=r.split("#");if("#"==r)return!1;r.indexOf("#")>=0&&t.indexOf(a[0])>=0&&(n=r.substring(r.indexOf("#")+1))&&jQuery("#"+n).length>0&&e.addEventListener("click",function(e){e.preventDefault(),j(n)})}),Array.prototype.forEach.call(p,function(e){e.addEventListener("click",function(e){c&&(e.preventDefault(),v())})}),document.addEventListener("keyup",function(e){if(c){var t=e.keyCode||e.which;27===t&&v()}}),jQuery(e).on("resize",function(){jQuery(e).width()<=960&&c&&v()})}()}(window);